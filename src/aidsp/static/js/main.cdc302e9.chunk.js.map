{"version":3,"sources":["index.js"],"names":["confirm","Modal","Demo","pid","window","location","pathname","split","length","state","data","key","comments","submitting","value","qastatus","Option","project_fetch","reqwest","url","protocol","host","method","then","setState","showDeleteConfirm","e","title","icon","content","okText","okType","cancelText","onOk","fetch","res","status","href","error","onCancel","console","log","this","adminbotton","is_admin","type","onClick","bordered","Item","label","span","name","project","describe","Date","create_time","toLocaleString","update_time","quantity_detials","path","style","width","src","img","height","React","Component","ReactDOM","render","document","getElementById"],"mappings":"uTAoBQA,EAAYC,IAAZD,QAEFE,E,2MACJC,IAAMC,OAAOC,SAASC,SAASC,MAAM,KAAKH,OAAOC,SAASC,SAASC,MAAM,KAAKC,OAAO,G,EAErFC,MAAQ,CACNC,KAAM,GACNC,IAAI,UACJC,SAAU,GACVC,YAAY,EACZC,MAAO,GACPC,SAAS,IACTC,OAAO,I,EAGTC,cAAgB,WAAiB,wDAE/BC,IAAQ,CACNC,IAAIf,OAAOC,SAASe,SAAW,KAAKhB,OAAOC,SAASgB,KAAO,sBAAwB,EAAKlB,IAAM,gBAC9FmB,OAAQ,QACPC,MAAK,SAAAb,GACN,EAAKc,SAAS,CACZd,KAAMA,Q,EAeZe,kBAAoB,SAAAC,GAClB1B,EAAQ,CACN2B,MAAO,eACPC,KAAM,kBAAC,IAAD,MACNC,QAAS,qEACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,KACZC,KAPM,WAQF,IAAI9B,EAAMC,OAAOC,SAASC,SAASC,MAAM,KAAKH,OAAOC,SAASC,SAASC,MAAM,KAAKC,OAAO,GACzF0B,MAAM9B,OAAOC,SAASe,SAAW,KAAKhB,OAAOC,SAASgB,KAAK,sBAAsBlB,EAAK,CACpFmB,OAAQ,WACTC,MAAK,SAAAY,GACwB,KAAdA,EAAIC,OAEJhC,OAAOC,SAASgC,KAAK,SAIrBpC,IAAMqC,MAAM,CACVX,MAAO,eAAMQ,EAAIC,OAAS,mFAC1BP,QAAS,iCAK/BU,SAzBM,WA0BJC,QAAQC,IAAI,c,mFAjChBC,KAAKzB,kB,+BAyCG,IAEJ0B,EAFG,EACiCD,KAAKjC,MADtC,EACCG,SADD,EACWC,WADX,EACuBC,MAkB9B,OAfI4B,KAAKjC,MAAMC,KAAKkC,WACnBD,EACK,6BACI,kBAAC,IAAD,CAAQE,KAAK,UAAUR,KAAM,yBAA0BK,KAAKvC,KAA5D,gBACA,kBAAC,IAAD,CAAQ0C,KAAK,SAAUC,QAASJ,KAAKjB,mBAArC,gBAGA,6BACA,+BAQR,6BACKkB,EAED,kBAAC,IAAD,CAAcI,UAAQ,EAACpB,MAAM,gBAC7B,kBAAC,IAAaqB,KAAd,CAAmBC,MAAM,iCAAQC,KAAM,GAAIR,KAAKjC,MAAMC,KAAKyC,MAC3D,kBAAC,IAAaH,KAAd,CAAmBC,MAAM,2BAAOC,KAAM,GAAIR,KAAKjC,MAAMC,KAAK0C,SAE1D,kBAAC,IAAaJ,KAAd,CAAmBC,MAAM,kCAASP,KAAKjC,MAAMC,KAAK2C,UAElD,kBAAC,IAAaL,KAAd,CAAmBC,MAAM,4BAAQ,IAAIK,KAAKZ,KAAKjC,MAAMC,KAAK6C,aAAaC,kBAEvE,kBAAC,IAAaR,KAAd,CAAmBC,MAAM,4BAAQ,IAAIK,KAAKZ,KAAKjC,MAAMC,KAAK+C,aAAaD,kBACvE,kBAAC,IAAaR,KAAd,CAAmBC,MAAM,4BAAQP,KAAKjC,MAAMC,KAAKgD,kBAEjD,kBAAC,IAAaV,KAAd,CAAmBC,MAAM,4BAAQP,KAAKjC,MAAMC,KAAKiD,OAGnD,6BAEA,kBAAC,IAAD,CACEC,MAAO,CAAEC,MAAO,QAChBlC,MAAM,sBAEN,yBAAKmC,IAAKpB,KAAKjC,MAAMC,KAAKqD,IAAKC,OAAO,SAExC,kC,GAnHWC,IAAMC,WA4HzBC,IAASC,OAAO,kBAAClE,EAAD,MAAUmE,SAASC,eAAe,e","file":"static/js/main.cdc302e9.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport { Descriptions,\r\nCard,Comment, \r\nRadio,\r\nAvatar,\r\nForm,Input ,\r\nButton  ,\r\nList ,\r\nModal,\r\nSelect,\r\nDivider,\r\nIcon,\r\n} from 'antd';\r\nimport reqwest from 'reqwest';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n\r\nconst { confirm } = Modal;\r\n\r\nclass Demo extends React.Component {\r\n  pid = window.location.pathname.split(\"/\")[window.location.pathname.split(\"/\").length-2]\r\n\r\n  state = {\r\n    data: '',\r\n    key:'req_doc',\r\n    comments: [],\r\n    submitting: false,\r\n    value: '',\r\n    qastatus:'Q',\r\n    Option:[],\r\n\r\n  };\r\n  project_fetch = (params = {}) => {\r\n\r\n    reqwest({\r\n      url:window.location.protocol + \"//\"+window.location.host + '/aidsp/api/dataset/' + this.pid + '/?format=json',\r\n      method: 'get',\r\n    }).then(data => {\r\n      this.setState({\r\n        data: data,\r\n      });\r\n\r\n      \r\n\r\n    })\r\n\r\n  }\r\n  componentDidMount(){\r\n    this.project_fetch()\r\n\r\n  }\r\n\r\n\r\n  \r\n  showDeleteConfirm = e => {\r\n    confirm({\r\n      title: '删除',\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: '您确定要删除这个项目？',\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      onOk() {\r\n          let pid = window.location.pathname.split(\"/\")[window.location.pathname.split(\"/\").length-2]\r\n          fetch(window.location.protocol + \"//\"+window.location.host+'/aidsp/api/dataset/'+pid, {\r\n            method: 'DELETE',\r\n        }).then(res => {\r\n                      if (res.status == 204){\r\n\r\n                          window.location.href=\"/aidsp\"\r\n           \r\n                      }\r\n                      else{\r\n                          Modal.error({\r\n                            title: '错误'+ res.status + '（如果是20开头其实是成功了）',\r\n                            content: '提交失败',\r\n                          });\r\n                      }\r\n                    })    \r\n      },\r\n      onCancel() {\r\n        console.log('Cancel');\r\n                // fetch(window.location.protocol + \"//\"+window.location.host+'/aidsp/api/qa/', {\r\n\r\n      },\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { comments, submitting, value } = this.state;\r\n    let adminbotton\r\n\r\n    if (this.state.data.is_admin){\r\n     adminbotton = (\r\n          <div>\r\n              <Button type=\"primary\" href={'/aidsp/dataset_detail/'+ this.pid} >编辑</Button>\r\n              <Button type=\"danger\"  onClick={this.showDeleteConfirm}>\r\n                删除\r\n              </Button>\r\n              <br />\r\n              <br />\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n    }\r\n\r\n    return (\r\n      <div>\r\n          {adminbotton}\r\n\r\n          <Descriptions bordered title=\"详情\" >\r\n          <Descriptions.Item label=\"数据集名称\" span={2}>{this.state.data.name}</Descriptions.Item>\r\n          <Descriptions.Item label=\"所属项目\" span={1}>{this.state.data.project}</Descriptions.Item>\r\n\r\n          <Descriptions.Item label=\"数据集描述\">{this.state.data.describe}</Descriptions.Item>\r\n\r\n          <Descriptions.Item label=\"创建时间\">{new Date(this.state.data.create_time).toLocaleString()}</Descriptions.Item>\r\n\r\n          <Descriptions.Item label=\"更新时间\">{new Date(this.state.data.update_time).toLocaleString()}</Descriptions.Item>\r\n          <Descriptions.Item label=\"数量详情\">{this.state.data.quantity_detials}</Descriptions.Item>\r\n\r\n          <Descriptions.Item label=\"存储路径\">{this.state.data.path}</Descriptions.Item>\r\n\r\n        </Descriptions>\r\n        <br />\r\n\r\n        <Card\r\n          style={{ width: '100%' }}\r\n          title=\"略缩图\"\r\n        >\r\n          <img src={this.state.data.img} height=\"200\"/>\r\n        </Card>\r\n        <br />\r\n\r\n       \r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<Demo />, document.getElementById('container'));\r\n"],"sourceRoot":""}